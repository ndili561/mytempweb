@model CRM.Entity.Search.Customer.PersonSearchModel
@{
    ViewData["Title"] = "Persons";
}

<div class="ibox-content">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th><sort display-name="NI No." column-name="NationalInsuranceNumber" /></th>
                <th><sort display-name="Forename" column-name="Forename" /></th>
                <th><sort display-name="Surname" column-name="Surname" /></th>
                <th><sort display-name="DoB" column-name="DateOfBirth" /></th>
                <th>Gender</th>
                <th>Relationship</th>
                <th>Is Main Contact</th>
                <th>Is Deleted</th>
                <th class="text-right"> <button type="button" id="btnAddPerson" onclick="displayCreatePerson(@Model.MainContactPersonId)" class="btn btn-success btn-labeled fa fa-plus">Add</button></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.PersonSearchResult)
            {
            <tr>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.NationalInsuranceNumber</a>
                </td>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.Forename</a>
                </td>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.Surname</a>
                </td>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.DateOfBirthString</a>
                </td>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.Gender</a>
                </td>
                <td>
                    <a href="~/Person/Details?personId=@item.Id">@item.Relationship</a>
                </td>
                <td class="text-center"><yesnoimage value="@item.IsMainContactPerson" /></td>
                <td class="text-center"><yesnoimage value="@item.IsDeleted" /></td>
                <td class="text-right">
                    <button type="button" id="btnEditPerson_@item.Id" onclick="displayEditPerson('@item.Id')" class="btn btn-warning fa fa-edit">Edit</button>
                </td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <td class="tc" colspan="12">
                    <pageing />
                </td>
            </tr>
        </tfoot>
    </table>
</div>