@model CRM.Entity.Search.Customer.TenantSearchModel
@{
    ViewData["Title"] = "Tenant";
}
<div class="ibox-content">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th class="col-lg-2">
                    <sort display-name="Tenant Code" column-name="TenantCode" />
                </th>
                <th class="col-lg-2">
                    <sort display-name="Tenancy Type" column-name="TenancyType" />
                </th>
                <th class="col-lg-1">
                    <sort display-name="Tenancy Reference" column-name="TenancyReference" />
                </th>
                <th class="col-lg-2">
                    <sort display-name="Forename" column-name="Person/Forename" />
                </th>
                <th class="col-lg-1">
                    <sort display-name="Surname" column-name="Person/Surname" />
                </th>
                <th class="col-lg-2">
                    <sort display-name="DateOfBirth" column-name="Person/DateOfBirth" />
                </th>
            </tr>
        </thead>
        <tbody>
            @if (Model.TenantSearchResult.Any())
            {
                foreach (var item in Model.TenantSearchResult)
                {
                    <tr>
                        <td>
                            <div>
                                <button type="button" class="btn btn-info fa fa fa-info" onclick="loadTenantHistory('@item.TenantCode')">
                                    View History
                                </button>
                            </div>
                            @item.TenantCode
                        </td>
                        <td>@item.TenancyType</td>
                        <td>@item.TenancyReference</td>
                        <td>@item.Person?.Forename</td>
                        <td>@item.Person?.Surname</td>
                        <td>@item.Person?.DateOfBirth</td>
                    </tr>
                    <tr>
                        <td colspan="12">
                            <div style="display: none" id="collapsableTenantHistoryDiv_@item.TenantCode">
                            </div>
                        </td>
                    </tr>
                }
            }
        </tbody>
        <tfoot>
            <tr>
                <td class="tc" colspan="12">
                    <pageing />
                </td>
            </tr>
        </tfoot>
    </table>
</div>